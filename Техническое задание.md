# Техническое задание

## Назначение разработки
Изучение технологий построения системы распределенных вычислений

## Технические требования
Построить систему распределенных вычислений, состоящую из одного узла, выдающего задачу, и узла/узлов, решающих задачу. Формат задачи: математическая функция от одного аргумента и набор значений, от которых вычисляется заданная функция.

## Топология системы

Система состоит из:

1. Узел-задатчик (один)
1. Вычислительные узлы (один или множество)
1. При запуске вычислительные узлы рассылают multicast-пакеты по протоколу UDP
1. Вычислительные узлы соединяются каждый с каждым постоянно поддерживаемым сетевым соединением по протоколу TCP
1. Узел-задатчик подключается к заданному пользователем вычислительному узлу по протоколу TCP, отправляет задачу для вычисления, ждет результата без разрыва соединения, получает результат вычисления и отключается
1. Все узлы могут находиться на одном или нескольких устройствах
1. Все узлы находятся в пределах одной подсети

## Описание работы процедуры системы
///

## Интерфейс системы

### Программа **compnode**

Запускает вычислительный узел. Консольный интерфейс.

Формат вызова: `compnode -u <udp_port> [-t <tcp_port>] [args...]`

Аргументы:
- `-u <udp_port>` - порт для multicast рассылок по протоколу UDP
- `-t <tcp_port>` - порт для входящих подключений по TCP. Если не задано, задается автоматически
- `--help, -h` - вызов справки
- `--quiet, -q` - тихий режим, без вывода информации
- `--verbose, -v` - подробный режим, с выводом дополнительной информации
- `--debug, -d` - режим с выводом отладочной информации

### Программа **tasknode**

Запускает узел-задатчик. Консольный интерфейс.

Формат вызова: `tasknode <compnode_ip>:<compnode_port> -i {<input_file>|-} -o {<output_file>|-} [args...]`

Аргументы:
- `<compnode_ip>:<compnode_port>` - ip-адрес и порт вычислительного узла, к которому будет выполняться подключение
- `-i <input_file>` - чтение задачи из файла `<input_file>`
- `-i -` - чтение задачи из стандартного ввода
- `-o <output_file>` - запись результата в файл `<output_file>`
- `-o -` - запись результата в стандартный вывод
- `--help, -h` - вызов справки
- `--quiet, -q` - тихий режим, без вывода информации
- `--verbose, -v` - подробный режим, с выводом дополнительной информации
- `--debug, -d` - режим с выводом отладочной информации

## Входные данные

На вход узла-задачника подаётся файл, содержащий в первой строке задачу-функцию в формате выражения, и далее по одному значению аргумента функции в новой строке.

Математические оператары записываются следующим образом:
1. '+' - сложение;
2. '-' - вычитание;
3. '*' - умножение;
4. '**' - возведение в степень;
5. '/' - деление;
6. 'sin()' - тригонометрический синус;
7. 'cos()' - тригонометрический косинус;
8. 'tg()' - тригонометрический тангенс;
9. 'ctg()' - тригонометрический котангенс;
10. '( некоторое выражение )' - возможно использование скобок;
Примечание: аргументы тригонометрических функций воспринимаются в радианах.

Пример содержимого входного файла:
```
x**4+sin(x)
12433
68659
4
608381
-438948
```

## Выходные данные

На выход, на узел-задачник система возвращает файл, где содержатся, аналогично входу, построчно пересчитанные функцией значения аргумента, каждый в новой строке, соотвественно.

## Базовые сценарии тестирования
//
